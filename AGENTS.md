# Repository Guidelines

## Project Structure & Module Organization
- `src/` contains the TypeScript source modules exported by the package.
- `tests/` holds Bun test files such as `*.test.ts` plus shared helpers (e.g., `tests/test-utils.ts`).
- `bench/` includes benchmark entry points (for `bun bench`).
- `dist/` is the build output generated by `tsdown` (do not edit by hand).
- Root configs: `tsconfig.json` (TypeScript), `biome.json` (lint/format), `tsdown.config.ts` (build).

## Build, Test, and Development Commands
- `bun run dev`: watch-mode build via `tsdown --watch` for local development.
- `bun run build`: full pipeline (lint, tests, then build) for release-ready output.
- `bun run lint`: run Biome checks and auto-fix where possible.
- `bun run check`: type-check only (`tsc --noEmit`).
- `bun test`: run the test suite in `tests/`.
- `bun run bench`: run benchmarks from `bench/teos.bench.ts`.

## Coding Style & Naming Conventions
- Indentation uses spaces; Biome enforces formatting.
- Use single quotes in TypeScript/JavaScript (`biome.json` rules).
- Keep module names descriptive and colocate helpers near their usage (e.g., `tests/test-utils.ts`).
- Prefer named exports for public APIs in `src/`.

## Testing Guidelines
- Framework: Bunâ€™s built-in test runner (`bun test`).
- Naming: place tests in `tests/` and use `*.test.ts` (see `tests/flows.test.ts`).
- Add helper utilities to `tests/test-utils.ts` rather than duplicating setup logic.

## Commit & Pull Request Guidelines
- Commit messages follow Conventional Commits (e.g., `fix: ...`, `refactor: ...`).
- PRs should include:
  - A concise description of behavior changes.
  - Linked issues or context if applicable.
  - Test or benchmark evidence when changing logic or performance.

## Configuration & Security Tips
- This package depends on local/linkable modules (see `package.json`), so ensure linked deps are installed before running `bun run build`.
- Avoid committing generated output in `dist/` unless explicitly required by release workflow.
